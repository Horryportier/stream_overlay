[gd_scene load_steps=16 format=3 uid="uid://b8pkcnrnhyj6"]

[ext_resource type="Script" uid="uid://dwiy01ashd33i" path="res://scenes/entites/creature.gd" id="1_ufjn3"]
[ext_resource type="Texture2D" uid="uid://jsaxvxlqb52h" path="res://assets/monster_core_offset_000.png" id="2_3oach"]
[ext_resource type="Script" uid="uid://3cjd0agl31u3" path="res://scripts/Commponents/Velocity/velocity_commponent.gd" id="2_87yvl"]
[ext_resource type="Texture2D" uid="uid://lalykyhd61v7" path="res://assets/tentacle_texture_offset.png" id="2_bxsai"]
[ext_resource type="Texture2D" uid="uid://xwsnsn0c34kd" path="res://assets/tentacle_texture.png" id="3_75gmh"]
[ext_resource type="Texture2D" uid="uid://btm6vmpxmm7mo" path="res://assets/monster_core_value_000.png" id="3_4068e"]
[ext_resource type="Texture2D" uid="uid://b2wqrxfqnucan" path="res://assets/palette.png" id="3_b4od0"]
[ext_resource type="PackedScene" uid="uid://b86llfgpxhge7" path="res://scripts/Commponents/Pathfinding/pathfinding_commponent.tscn" id="3_dcm7d"]

[sub_resource type="Curve" id="Curve_87yvl"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0.147625), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Shader" id="Shader_ufjn3"]
code = "shader_type canvas_item;
uniform sampler2D palette: filter_nearest;
uniform sampler2D offset_textrure: repeat_enable, filter_nearest;




void fragment() {
 	vec4 t = texture(TEXTURE, UV);
	float offset = texture(offset_textrure, UV).r;
	vec4 p_color = texture(palette, vec2(t.r, offset));
	COLOR.rgb =  offset == 0. ? t.rgb : p_color.rgb;
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_87yvl"]
shader = SubResource("Shader_ufjn3")
shader_parameter/palette = ExtResource("3_b4od0")
shader_parameter/offset_textrure = ExtResource("2_3oach")

[sub_resource type="CircleShape2D" id="CircleShape2D_qqbvq"]

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_3oach"]
load_path = "res://.godot/imported/palette.png-902406b8bc4c8c9c3cd0a13ed068ac9d.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4068e"]
shader = SubResource("Shader_ufjn3")
shader_parameter/palette = SubResource("CompressedTexture2D_3oach")
shader_parameter/offset_textrure = ExtResource("2_bxsai")

[sub_resource type="Curve" id="Curve_bxsai"]
_data = [Vector2(0, 0.750963), 0.0, 0.0, 0, 0, Vector2(0.103365, 0.584082), 0.0, 0.0, 0, 0, Vector2(0.890625, 0.63543), 0.0, 0.0, 0, 0, Vector2(1, 0.391527), 0.0, 0.0, 0, 0]
point_count = 4

[node name="Creature" type="CharacterBody2D"]
script = ExtResource("1_ufjn3")
gravity_influance = SubResource("Curve_87yvl")

[node name="VelocityCommponent" type="Node" parent="."]
script = ExtResource("2_87yvl")
metadata/_custom_type_script = "uid://3cjd0agl31u3"

[node name="PathfindingCommponent" parent="." instance=ExtResource("3_dcm7d")]
unique_name_in_owner = true
movement_speed = 32.0

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="PathfindingCommponent"]
navigation_layers = 2
avoidance_enabled = true
neighbor_distance = 16.0

[node name="Icon" type="Sprite2D" parent="."]
z_index = 1
material = SubResource("ShaderMaterial_87yvl")
texture = ExtResource("3_4068e")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_qqbvq")

[node name="Tentacles" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Line2D" type="Line2D" parent="Tentacles"]
texture_repeat = 2
material = SubResource("ShaderMaterial_4068e")
width = 8.0
width_curve = SubResource("Curve_bxsai")
texture = ExtResource("3_75gmh")
texture_mode = 1
joint_mode = 1
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D2" type="Line2D" parent="Tentacles"]
texture_repeat = 2
material = SubResource("ShaderMaterial_4068e")
width = 8.0
width_curve = SubResource("Curve_bxsai")
texture = ExtResource("3_75gmh")
texture_mode = 1
joint_mode = 1
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D3" type="Line2D" parent="Tentacles"]
texture_repeat = 2
material = SubResource("ShaderMaterial_4068e")
width = 8.0
width_curve = SubResource("Curve_bxsai")
texture = ExtResource("3_75gmh")
texture_mode = 1
joint_mode = 1
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D4" type="Line2D" parent="Tentacles"]
texture_repeat = 2
material = SubResource("ShaderMaterial_4068e")
width = 8.0
width_curve = SubResource("Curve_bxsai")
texture = ExtResource("3_75gmh")
texture_mode = 1
joint_mode = 1
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D5" type="Line2D" parent="Tentacles"]
texture_repeat = 2
material = SubResource("ShaderMaterial_4068e")
width = 8.0
width_curve = SubResource("Curve_bxsai")
texture = ExtResource("3_75gmh")
texture_mode = 1
joint_mode = 1
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D6" type="Line2D" parent="Tentacles"]
texture_repeat = 2
material = SubResource("ShaderMaterial_4068e")
width = 8.0
width_curve = SubResource("Curve_bxsai")
texture = ExtResource("3_75gmh")
texture_mode = 1
joint_mode = 1
begin_cap_mode = 2
end_cap_mode = 2
